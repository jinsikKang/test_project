{% extends 'base.html' %}

{% block header %}
<div class="header_title_d01">{{ network.name }}</div>
<div>
    <a href="#"><div class="header_title_d04_click">개요</div></a>
    <a href="#"><div class="header_title_d05">서브넷</div></a>
    <a href="#"><div class="header_title_d05">포트</div></a>
    <a href="#"><div class="header_title_d05">DHCP 에이전트</div></a>
</div>
{% endblock header %}

{% block sub_left_menu %}
{% include "admin/left_menu.html" %}
{% endblock sub_left_menu %}

{% block content %}
<div id="summary">
     <table class="ind_tab01" cellpadding="0" border="0" cellspacing="0">
        <tr>
             <th class="ind_th01">이름</th>          <td class="ind_td01">{{ network.name }}</td>
        </tr>
        <tr>
             <th class="ind_th01">ID</th>            <td class="ind_td01">{{ network.id}}</td>
        </tr>
        <tr>
             <th class="ind_th01">프로젝트 ID</th>   <td class="ind_td01">{{ network.project_id }}</td>
        </tr>
        <tr>
             <th class="ind_th01">Status</th>        <td class="ind_td01">{{ network.status }}</td>
        </tr>
        <tr>
             <th class="ind_th01">관리자 상태</th>   <td class="ind_td01">{{ network.admin_state_up }}</td>
        </tr>
        <tr>
             <th class="ind_th01">공유</th>          <td class="ind_td01">{{ network.shared }}</td>
        </tr>
        <tr>
             <th class="ind_th01">외부 네트워크</th> <td class="ind_td01">{{ network.router.external }}</td>
        </tr>
        <tr>
             <th class="ind_th01">MTU</th>           <td class="ind_td01">{{ network.mtu }}</td>
        </tr>
        <tr>
             <th class="ind_th01">공급자 네트워크</th>
             <td class="ind_td01">
                네트워크 타입 {{ network.provider.network_type }}<br/>
                물리적인 네트워크 {{ network.provider.physical_network }}<br/>
                구분 ID: {{ network.provider.segmentation_id }}
            </td>
        </tr>
    </table>
</div>
{% include "admin/networks/subnets/index.html" %}
<!--{% include "admin/networks/ports/index.html" %}-->

<div id="DHCPagent">

</div>


<script>
var network;
function DataTable (settings){
    this.selector = settings["selector"];
    this.columns = settings["columns"];
    if( settings["vertical"] ){
        this.vertical = settings["tableType"];
    }else{
        this.vertical = false;
    }
    if( settings["data"] ){
        this.data = settings["data"];
    }else{
        this.data = null;
    }
    this.showDataTable = function() {
        var resultHtml = ""
        if( tableType ){
            for( key in this.columns ){
                resultHtml += "<tr>\n";
                resultHtml += "<th class='ind_th01 " + key + "'>" + this.columns[key] + "</th>\n";
                resultHtml += "<td class='ind_td01 " + key + "'>" + this.data[key] + "</td>\n";
                resultHtml += "</tr>\n";
            }
        }else{
            var columnHtml = "<tr>";
            for( key in this.columns ){
                columnHtml += "<th class='ind_th01 " + key + "'>" + this.columns[key] + "</th>\n";
            }
            columnHtml += "</tr>";

            var dataHtml = "";
            for( i in this.data ){
                dataHtml += "<tr>\n";
                for( key in this.columns ){
                    dataHtml += "<td class='ind_td01 " + key + "'>" + this.data[i][key] + "</td>\n";
                }
                dataHtml += "</tr>\n";
            }
            resultHtml = columnHtml + dataHtml;
        }
        $(this.selector + " table").html(resultHtml);
    };
    return this;
}
    $(function(){
        $.ajax({
            type:"POST",
            url : '',
            data : { id:"{{ network_id }}", csrfmiddlewaretoken: "{{ csrf_token }}" },
            success:function(data){
                network = data;
                // console.log(network);
            }
        });

        var dataTable = new DataTable({
            "selector" : "#summary",
            "columns" : {
                "name" : "이름",
                "id" : "ID",
                "project_id " : "프로젝트 ID",
                "status" : "Status",
                "admin_state_up" : "관리자 상태",
                "shared" : "공유",
                "router" : "외부 네트워크",
                "mtu" : "MTU",
                "provider" : "공급자 네트워크"
            },
            "vertical" : true,
            "data" : //데이터 넣기
            {
                "name" : "1",
                "fixed_ips" : "",
                "status" : "",
                "admin_state_up" : ""
            }
        });
        dataTable.showDataTable();
        /*
        function dataTable (selector, columns, data, tableType){
            this.selector = selector;
			this.columns = columns;
			this.data = data;
			this.tableType = tableType;
        }
        */
        
    });
</script>
{% endblock content %}
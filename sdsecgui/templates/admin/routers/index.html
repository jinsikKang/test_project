{% extends 'base.html' %}

{% block header %}
<div class="header_title_d01">라우터</div>
{% endblock header %}

{% block sub_left_menu %}
{% include "admin/left_menu.html" %}
{% endblock sub_left_menu %}

{% block content %}
<div id="routerList">
    <table class="ind_tab01" cellpadding="0" border="0" cellspacing="0">
    </table>
</div>
<script>
var routerList = [];
function getRouterAjax(routerList, csrf_token){
    $.ajax({
        type:"POST",
        url : '',
        data : { routerList : routerList, csrfmiddlewaretoken : csrf_token },
        success:function(data){
            routerList = data.data;
        }
    });
}

$(function(){
    var dataTable = new DataTable({
        "selector" : "#subnet",
        "columns" : {
            "name" : "이름:link",
            "status" : "Status",
            "external_gateway_info" : "외부 네트워크",
            "admin_state_up" : "관리자 상태",
            "project_id" : "프로젝트",
        },
        "data" : [
            {% for router in routerList %}
            {
                "admin_state_up" : "{{ router.admin_state_up }}",
                "availability_zone_hints" : "{{ router.availability_zone_hints }}",
                "availability_zones" : "{{ router.availability_zones }}",
                "created_at" : "{{ router.created_at }}",
                "description" : "{{ router.description }}",
                "distributed" : "{{ router.distributed }}",
                "external_gateway_info" : JSON.parse("{{ router.external_gateway_info }}"),
                "flavor_id" : "{{ router.flavor_id }}",
                "ha" : "{{ router.ha }}",
                "id" : "{{ router.id }}",
                "name" : "{{ router.name }}",
                "project_id" : "{{ router.project_id }}",
                "revision_number" : "{{ router.revision_number }}",
                "routes" : "{{ router.routes }}",
                "status" : "{{ router.status }}",
                "tenant_id" : "{{ router.tenant_id }}",
                "updated_at" : "{{ router.updated_at }}",
            },
            {% endfor %}
        ]
    });
    dataTable.showDataTable();
    dataTable.setLink("routers");
});
</script>
{% endblock content %}
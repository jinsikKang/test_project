{% extends 'base.html' %}

{% block header %}
<div class="header_title_d01">라우터</div>
{% endblock header %}

{% block sub_left_menu %}
{% include "admin/left_menu.html" %}
{% endblock sub_left_menu %}

{% block content %}
<div id="routerList">
    <table class="ind_tab01" cellpadding="0" border="0" cellspacing="0">
    </table>
</div>
<script>
var routerList = [];


function getRouterList(){
    var dataTable = new DataTable({
        "selector" : "#routerList",
        "columns" : {
            "name" : "이름:link",
            "status" : "Status",
            "external_gateway_info" : "외부 네트워크",
            "admin_state_up" : "관리자 상태",
            "project_id" : "프로젝트",
        },
        "data" : routerList

    });
    dataTable.showDataTable();
    dataTable.setLink("routers");
}

function getRouterAjax(routerList, csrf_token){
    $.ajax({
        type:"POST",
        url : '',
        data : { "routerList" : JSON.stringify(routerList), csrfmiddlewaretoken : csrf_token },
        success:function(data){
            routerList = data;
            getRouterList()
        }
    });
}


$(function(){
    getRouterAjax({% autoescape off %}{{ routerList }}{% endautoescape %}, "{{ csrf_token }}");

});
</script>
{% endblock content %}